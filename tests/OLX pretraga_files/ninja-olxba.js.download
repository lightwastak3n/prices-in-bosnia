Object.freeze=Object.freeze||function(e){if(Object(e)!==e)throw new TypeError("Object.freeze can only be called on Objects.");return e},function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).ninja=n()}(this,(function(){var configTracking=window.configTracking,cookieDomain,environment;function defaultValue(e,n){return configTracking&&Object.prototype.hasOwnProperty.call(configTracking,e)?configTracking[e]:n}environment=configTracking&&configTracking.environment&&configTracking.environment.length>0?configTracking.environment:"production","production"===environment?configTracking&&configTracking.siteUrl&&(cookieDomain=configTracking.siteUrl.match(/^[\w\d\-]+\.(.*)/),cookieDomain=null===cookieDomain?configTracking.siteUrl:cookieDomain[1]):cookieDomain=window.location.hostname||null,window.dataLayer=window.dataLayer||[];var ninjaConfig={environment:environment,cookieDomain:cookieDomain,specialNames:["trackPage","trackEvent","trackLinkEvent","cleanup","event","processed"],siteUrl:defaultValue("siteUrl",""),callBack:defaultValue("backendCallBack",null),platform:defaultValue("platform",null),debug:defaultValue("debug",null),unitTest:defaultValue("unitTest",!1),custom:defaultValue("setup",!1),plugins:defaultValue("plugins",!1),dataLayer:window[defaultValue("dataLayer","dataLayer")],laquesisQa:defaultValue("laquesisQa",null),disablePropertyPropagation:defaultValue("disablePropertyPropagation",!1),disableDefaultTrackPage:defaultValue("disableDefaultTrackPage",!1)},regionConfig={map:{trackPage:{N:{H:"eN",GA:"eN"}},trackEvent:{N:{H:"eN",GA:"eN"}},ad_id:{N:{H:"ad_id"}},aid_uc:{N:{H:"aid_uc"}},bR:{N:{H:"bR"}},c:{N:{H:"c"}},category_id:{N:{H:"category_id"}},category_name:{N:{H:"category_name"}},cC:{N:{H:"cC"}},city_id:{N:{H:"city_id"}},city_name:{N:{H:"city_name"}},cl:{N:{H:"cl"}},cP:{N:{H:"cP"}},deeplinkAction:{N:{H:"deeplinkAction"}},deeplinkActivity:{N:{H:"deeplinkActivity"}},deeplinkSrc:{N:{H:"deeplinkSrc"}},deeplink_url:{N:{H:"deeplink_url"}},dt:{N:{H:"dt"}},eN:{N:{H:"eN"}},env:{N:{H:"env"}},filters:{N:{H:"filters"}},flag_definition:{N:{H:"flag_definition"}},gaid:{N:{H:"gaid"}},hash:{N:{H:"hash"}},host:{N:{H:"host"}},ifv:{N:{H:"ifv"}},install_referrer:{N:{H:"install_referrer"}},item_condition:{N:{H:"item_condition"}},iv:{N:{H:"iv"}},ivd:{N:{H:"ivd"}},js:{N:{H:"js"}},laqVer:{N:{H:"laqVer"}},listing_id:{N:{H:"listing_id"}},listing_impressions:{N:{H:"listing_impressions"}},listing_photo:{N:{H:"listing_photo"}},listing_price:{N:{H:"listing_price"}},listing_status:{N:{H:"listing_status"}},listing_type:{N:{H:"listing_type"}},mv:{N:{H:"mv"}},nc:{N:{H:"nc"}},ninjaVer:{N:{H:"ninjaVer"}},page_count:{N:{H:"page_count"}},page_nb:{N:{H:"page_nb"}},platform:{N:{H:"platform"}},referer:{N:{H:"referer"}},region_id:{N:{H:"region_id"}},region_name:{N:{H:"region_name"}},rT:{N:{H:"rT"}},s:{N:{H:"s"}},search_keyword:{N:{H:"search_keyword"}},seller_id:{N:{H:"seller_id"}},shop_type:{N:{H:"shop_type"}},sl:{N:{H:"sl"}},sorting:{N:{H:"sorting"}},t:{N:{H:"t"}},test_definition:{N:{H:"test_definition"}},test_name:{N:{H:"test_name"}},test_variation:{N:{H:"test_variation"}},tN:{N:{H:"tN"}},user_id:{N:{H:"user_id"}},user_status:{N:{H:"user_status"}},user_type:{N:{H:"user_type"}},v:{N:{H:"v"}},vas_active:{N:{H:"vas_active"}},vas_type:{N:{H:"vas_type"}}},trackers:[],plugins:[],config:{H:{ignoreParams:["call","bind","push","prototype","landing_page","itemTitle","itemPrice","imageUrl","pageUrl","pagecat","dynx_itemid","dynx_totalvalue","dynx_pagetype","isseller","google_tag_params","_trackPageview","page_type","is_lister","city","loggedin"],triggeredEvents:["eN","eN"],knownParameters:["ad_id","aid_uc","bR","c","category_id","category_name","cC","city_id","city_name","cl","cP","deeplinkAction","deeplinkActivity","deeplinkSrc","deeplink_url","dt","eN","env","filters","flag_definition","gaid","hash","host","ifv","install_referrer","item_condition","iv","ivd","js","laqVer","listing_id","listing_impressions","listing_photo","listing_price","listing_status","listing_type","mv","nc","ninjaVer","page_count","page_nb","platform","referer","region_id","region_name","rT","s","search_keyword","seller_id","shop_type","sl","sorting","t","test_definition","test_name","test_variation","tN","user_id","user_status","user_type","v","vas_active","vas_type"],defaultTrackEvent:!0,defaultUseParameter:!1},M:{defaultTrackEvent:!1,defaultUseParameter:!1},CT:{defaultTrackEvent:!1,defaultUseParameter:!1},EX:{defaultTrackEvent:!1,defaultUseParameter:!1},G:{defaultTrackEvent:!1,defaultUseParameter:!1},GA:{defaultTrackEvent:!1,defaultUseParameter:!1}},custom:{"www.olx.ba":{trackers:["GA"],plugins:["LQ"],config:{H:{path:"eu-olxba-web",error_path:"eu-olxba-errors",survey_path:"eu-olxba-surveys",params:{bR:"olxba",cC:"BA"}},GA:{code:"UA-63092-20"}}}},version:"1.0.10"},b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,hydraConfig;function atob(e){if("function"==typeof window.atob)return window.atob(e);var n,t=String(e).replace(/[\t\n\f\r ]+/g,"");if(!b64re.test(t))throw new TypeError("Failed to execute atob: The string to be decoded is not correctly encoded.");t+="==".slice(2-(3&t.length));for(var a,i,o="",r=0;r<t.length;)n=b64.indexOf(t.charAt(r++))<<18|b64.indexOf(t.charAt(r++))<<12|(a=b64.indexOf(t.charAt(r++)))<<6|(i=b64.indexOf(t.charAt(r++))),o+=64===a?String.fromCharCode(n>>16&255):64===i?String.fromCharCode(n>>16&255,n>>8&255):String.fromCharCode(n>>16&255,n>>8&255,255&n);return o}function eucex(e){var n;try{n=encodeURIComponent(decodeURIComponent(e))}catch(e){n=""}return n}function deucex(e){var n;try{n=decodeURIComponent(e)}catch(e){n=""}return n}function loadScript(e,n,t){var a,i,o,r,s="createElement";n&&document.getElementById(n)?t&&t(e):"function"==typeof document[s]&&((a=document[s]("script")).type="text/javascript",a.async=!0,n&&(a.id=n),t&&(a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,t(e))}:a.onload=function(){t(e)}),a.src=e,i=document.getElementsByTagName("head"),o=document.getElementsByTagName("body"),r=document.getElementsByTagName("script"),i&&i[0]?i[0].appendChild(a):o&&o[0]?o[0].appendChild(a):r&&r[0]&&r[0].parentNode&&r[0].parentNode.insertBefore(a,r[0]))}function debug(e,n){configTracking.debug.call(this,e,n)}function getCurrentPath(){var e=window.location.pathname;return"/"===e.charAt(0)&&e.length>1&&(e=e.slice(1)),"/"===e.charAt(e.length-1)&&e.length>1&&(e=e.slice(0,e.length-1)),e.search(/\./)>0&&(e=e.replace(/(\.[a-z]+$)/,"")),"/"!==e&&""!==e||(e="home"),e}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function inArray(e,n){var t,a=e.length,i=!1;for(t=0;t<a;t+=1)e[t]===n&&(i=!0);return i}function indexOf(e,n,t){if(null==e)throw TypeError("indexOf called on null or undefined");var a=Object(e),i=a.length>>>0,o=Math.min(0|t,i);if(o<0)o=Math.max(0,i+o);else if(o>=i)return-1;if(void 0===n){for(;o!==i;++o)if(void 0===a[o]&&o in a)return o}else{if(n!=n)return-1;for(;o!==i;++o)if(a[o]===n)return o}return-1}function ajaxCall(e,n,t,a){var i,o;if(window.XDomainRequest)(i=new XDomainRequest)&&(i.onload=function(){t(i.responseText,a)},i.open(e,n,!0),i.send());else{if(window.XMLHttpRequest)o=new XMLHttpRequest;else try{o=new ActiveXObject("MSXML2.XMLHTTP")}catch(e){o=new ActiveXObject("Microsoft.XMLHTTP")}try{o.onreadystatechange=function(){4===o.readyState&&t(o.responseText,a)},o.open(e,n,!0),o.send()}catch(e){t("",a)}}}function getProtocol(e,n){return"https:"===window.location.protocol?"https://"+(void 0!==e?e:""):"http://"+(void 0!==n?e:"")}function convertToLatin(e){var n={"á":"a","Á":"A","é":"e","É":"E","í":"i","Í":"I","ó":"o","Ó":"O","ú":"u","Ú":"U","ñ":"n","Ñ":"N"};return e.replace(/[^A-Za-z0-9\-_]/g,(function(e){return n[e]||e}))}function objectToQueryString(e){if("object"==typeof e){var n,t=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n+"="+e[n]);return t.join("&")}return""}function getNow(){var e=new Date;return Math.round(e.getTime()/1e3)}function extend(e,n){var t,a={};if(Object.assign)return Object.assign(Object.assign({},e),n);for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t]);for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(a[t]=n[t]);return a}function setCookie(e,n,t,a,i){var o,r,s,l=new Date;try{l.setTime(l.getTime()+60*t*1e3),o=";expires="+l.toUTCString(),r=";domain=."+(i||window.location.hostname),s=";path="+(a||"/"),document.cookie=e+"="+n+o+r+s}catch(e){console.log(e)}}function getCookie(e,n){var t,a,i,o=e+"=",r="",s=null;try{r=document.cookie.split(";")}catch(e){}for(t=0;t<r.length;t+=1){for(a=r[t];" "===a.charAt(0);)a=a.substring(1);if(0===a.search(o)){i=a.substring(o.length,a.length),s=n?i.match(n):i;break}}return s}hydraConfig=void 0!==regionConfig.custom[ninjaConfig.siteUrl].config.H?extend(regionConfig.config.H,regionConfig.custom[ninjaConfig.siteUrl].config.H):regionConfig.config.H;var hydraConfig$1=hydraConfig;function getCookieName(e){var n=e;return"onap"===n&&("production"===ninjaConfig.environment?document.cookie&&(document.cookie.match(/onap/g)||[]).length>1&&(document.cookie="onap=delete;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=.m."+ninjaConfig.cookieDomain+";path=/",document.cookie="onap=delete;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=.www."+ninjaConfig.cookieDomain+";path=/"):n+="_dev"),"www.console.data.olx.org"!==ninjaConfig.siteUrl&&"www.console-stg.data.olx.org"!==ninjaConfig.siteUrl||void 0!==hydraConfig$1.params.bR&&(n+="_"+hydraConfig$1.params.bR),n}var NINJA_CDN="https://ninja.data.olxcdn.com",SPLITTER_CDN="https://laquesis.data.olxcdn.com",JSQR_URL="https://unpkg.com/jsqr@1.4.0/dist/jsQR.js",LAQUESIS_QA_URL=NINJA_CDN+"/next/laquesisqa.js",LAQUESIS_SURVEY_URL=NINJA_CDN+"/next/laquesisSurvey.js",trackingMap={H:"hydra",hydra:"hydra",GA:"ga",ga:"ga",WA:"wa",wa:"wa",M:"mixpanel",mixpanel:"mixpanel",CT:"clevertap",clevertap:"clevertap",G:"gtm",gtm:"gtm",LQ:"laquesis",laquesis:"laquesis",GTAG:"gtag"},Trackers={H:"H",LQ:"LQ",M:"M",GTM:"G",GA:"GA",GTAG:"GTAG",CT:"CT",F:"F",AF:"A",AD:"AD",NR:"NR"};function generateSession(){return Number((new Date).getTime()).toString(16)+"x"+Number(Math.floor(2147483647*Math.random()+1)).toString(16)}function getInvite(){var e,n,t,a,i,o=window.location.search.replace(/^\?/,"").split("&"),r={},s=[];for(e=0;e<o.length;e+=1)r[(n=o[e].split("="))[0]]=n[1];if(null!==(t=r.invite||null))s=parseInvite(t);else if(void 0!==r.utm_source)s=parseUtm(r);else if(null!==(i=getHash()))s=parseXtor(i);else if(void 0!==r.xtor)s=parseXtor("xtor="+r.xtor);else{if(void 0===r.gclid)return null;s=["adwords",r.gclid]}return s[0]?(a=s[0],s.shift(),convertToLatin(deucex(a)).replace(/\s/g,"").replace(/NINJA_SEPARATOR/g,"-")+"_"+convertToLatin(deucex(s.join("--"))).replace(/\s/g,"").replace(/NINJA_SEPARATOR/g,"-")):null}function parseInvite(e){var n=e.match(/^\s*([a-zA-Z0-9\-]{1,64})(?:_([a-zA-Z0-9%\-]{0,128})).*/);return null!==n&&n.length>0?[n[1],n[2]]:[]}function parseUtm(e){var n,t=[],a=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"];for(n=0;n<a.length;n++)void 0!==e[a[n]]&&t.push(e[a[n]].replace(/[\-_\.]/g,"NINJA_SEPARATOR"));return t}function parseXtor(e){var n,t,a=[],i=e.match(/\[([0-9a-z\-]+)\]/gi),o=e;if(null!==i)for(t=0;t<8;t++)void 0!==i[t]&&(o=o.replace(i[t],i[t].replace("[","").replace("]","").replace(/\-/g,"")));if(null!==(n=o.match(/xtor=([a-zA-Z0-9_\.]+)-([a-zA-Z0-9_\.]+)-?([a-zA-Z0-9_\.]+)?-?([a-zA-Z0-9_\.]+)?-?([a-zA-Z0-9_\.]+)?-?([a-zA-Z0-9_\.]+)?-?([a-zA-Z0-9_\.]+)?-?([a-zA-Z0-9_\.]+)?/)))for(t=1;t<8;t++)void 0!==n[t]&&a.push(n[t].replace(/[\-_\.]/g,"NINJA_SEPARATOR"));return a}function getHost$1(){return window.location.host||null}function getHash(){return window.location.hash||null}function getReferrer(){return document.referrer||null}function getPageName$1(e){var n=null;return e&&(n=deucex(e.toLowerCase())),n}function getEventData(e){var n={};return e&&(e[0]&&(n.category=deucex(e[0])),e[1]&&(n.action=deucex(e[1])),e[2]&&(n.label=deucex(e[2])),e[3]&&(n.value=deucex(e[3])),e[4]&&(n.interact=deucex(e[4]))),n}function jsonEncode(e){try{var n,t=window.JSON,a=function(e){var n=e;try{n=encodeURIComponent(decodeURIComponent(n))}catch(e){}var t=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(n)?'"'+n.replace(t,(function(e){var n=a[e]||null;return"string"==typeof n?n:e}))+'"':'"'+n+'"'},i=function(e,n){var t=0,o="",r="",s=0,l=[],c=n[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),typeof c){case"string":return a(c);case"number":return isFinite(c)?String(c):"null";case"boolean":return String(c);case"object":if(!c)return"null";if(l=[],"[object Array]"===Object.prototype.toString.apply(c)){for(s=c.length,t=0;t<s;t+=1)l[t]=i(t,c)||"null";return r=0===l.length?"[]":"["+l.join(",")+"]"}for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(r=i(o,c))&&l.push(a(o)+":"+r);return r=0===l.length?"{}":"{"+l.join(",")+"}";default:throw new SyntaxError("json_encode")}};if("object"==typeof t&&"function"==typeof t.stringify){if(void 0===(n=t.stringify(e)))throw new SyntaxError("json_encode")}else n=i("",{"":e});try{n=encodeURIComponent(decodeURIComponent(n))}catch(e){n=null}return n}catch(e){if(!(e instanceof SyntaxError))throw new Error("Unexpected error type in json_encode()");return null}}function makeMapping(e,n,t){var a;return a="trackEvent"===n||"trackPage"===n?"defaultTrackEvent":"defaultUseParameter",regionConfig.config&&regionConfig.config[e]&&!0===regionConfig.config[e][a]?mappingValue(e,n,t):mappingMarketingValue(e,n,t)}function makeObjectMapping(e,n){var t,a,i={};for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&!1!==(t=makeMapping(e,a,n[a])).key&&(i[t.key]=t.value);return i}function mappingValue(e,n,t){var a,i;return void 0===regionConfig.map[n]?(a=n,i=t):(a=void 0===regionConfig.map[n].N||void 0===regionConfig.map[n].N[e]?n:regionConfig.map[n].N[e],i=void 0===regionConfig.map[n].V||void 0===regionConfig.map[n].V[t]||void 0===regionConfig.map[n].V[t][e]?t:regionConfig.map[n].V[t][e]),{key:a,value:i}}function mappingMarketingValue(e,n,t){var a,i;return void 0===regionConfig.map[n]?a=!1:(a=void 0!==regionConfig.map[n].N&&void 0!==regionConfig.map[n].N[e]&&regionConfig.map[n].N[e],i=void 0===regionConfig.map[n].V||void 0===regionConfig.map[n].V[t]||void 0===regionConfig.map[n].V[t][e]?"trackPage"!==n&&"trackEvent"!==n&&t:regionConfig.map[n].V[t][e]),{key:a,value:i}}var TRACKER_KEY="H",isLinkEvent$2=!1,lastCurrentPage=null,lastTrackPage=null,lastEventName=null,currentPlatform;function getDefaultParams$2(e){var n,t={};for(n in t.sl=e.sessionParams.sessionLong,t.s=e.sessionParams.session,t.cl=e.sessionParams.sessionCountLong,t.c=e.sessionParams.sessionCount,e.sessionParams.noCookie&&(t.nc=1),t.t=(new Date).getTime(),e.invite&&(t.iv=eucex(e.invite)),e.host&&(t.host=eucex(e.host)),e.hash&&"www.console.data.olx.org"!==ninjaConfig.siteUrl&&"www.console-stg.data.olx.org"!==ninjaConfig.siteUrl&&(t.hash=eucex(e.hash)),e.referrer&&(t.referer=eucex(e.referrer)),t.ivd="olx-"+hydraConfig$1.params.cC.toLowerCase()+"_organic",void 0!==hydraConfig$1.params.rE&&(t.rE=hydraConfig$1.params.rE),e.eventData.category?e.pageName||lastCurrentPage&&(t.cP=lastCurrentPage):e.pageName&&(lastCurrentPage=eucex(getPageName()),t.cP=lastCurrentPage),configTracking.unitTest||(t.js=1),t)!Object.prototype.hasOwnProperty.call(t,n)||makeMapping(TRACKER_KEY,n,e.customParams[n]).key;return t}function applyPlatform(e){return void 0!==hydraConfig$1.platform_property&&(void 0!==e[hydraConfig$1.platform_property]?e[hydraConfig$1.platform_property]!==currentPlatform&&(currentPlatform=e[hydraConfig$1.platform_property]):currentPlatform||(e[hydraConfig$1.platform_property]=currentPlatform)),e}function getUrl(e,n){var t,a,i,o=[],r={},s=getCustomParams$2(n),l=makeObjectMapping(TRACKER_KEY,getDefaultParams(n)),c=makeObjectMapping(TRACKER_KEY,getDefaultParams$2(n));if(s=applyPlatform(s),t=getProtocol()+getHost()+e+"?",n.eventData.category){if(n.eventData.category&&o.push(n.eventData.category),n.eventData.action&&o.push(n.eventData.action),n.eventData.label&&o.push(n.eventData.label),n.eventData.value&&o.push(n.eventData.value),lastEventName=eucex(convertString$1(o.join("_"))),!1===(i=makeMapping(TRACKER_KEY,"trackEvent",lastEventName)).key||!1===i.value)return"";lastEventName=i.value,r.eN=lastEventName,inArray(hydraConfig$1.triggeredEvents,lastEventName)&&(r.rT=1)}if(n.pageName){if(!1===(i=makeMapping(TRACKER_KEY,"trackPage",n.pageName)).key||!1===i.value)return"";lastTrackPage=eucex(i.value),r.eN=lastTrackPage,inArray(hydraConfig$1.triggeredEvents,lastTrackPage)&&(r.rT=1)}for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(r[eucex(a)]=eucex(l[a]));for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(r[eucex(a)]=eucex(c[a]));for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(c[a]||l[a]||(r[eucex(a)]="extra"!==a?eucex(s[a]):jsonEncode(s[a])));return t+=objectToQueryString(r),"function"==typeof configTracking.debug&&(lastTrackPage?debug("hydra",[{customParams:s},{pageName:lastTrackPage}]):n.eventData.category&&debug("hydra",[{eventName:lastEventName}])),t}function getPageName(){return getCurrentPath().toLowerCase()}function getCustomParams$2(e){var n,t,a={};for(n in e.customParams)if(Object.prototype.hasOwnProperty.call(e.customParams,n)&&"function"!=typeof e.customParams[n]){if(!1===(t=makeMapping(TRACKER_KEY,n,e.customParams[n])).key)continue;"trackEvent"===t.key?a[t.key]=t.value:inArray(["impressions","adImpressions","ad_impressions"],t.key)?a[t.key]=jsonEncode(t.value):inArray(hydraConfig$1.knownParameters,t.key)?"object"!=typeof t.value?(a[t.key]=deucex(t.value),""===a[t.key]&&"string"==typeof t.value&&(a[t.key]=deucex(t.value.replace(/%/g,"")))):a[t.key]=jsonEncode(t.value):inArray(hydraConfig$1.ignoreParams,t.key)||(a.extra||(a.extra={}),"object"!=typeof t.value?"string"==typeof t.value&&t.value.length>6&&"%5B"===t.value.slice(0,3)&&"%5D"===t.value.slice(-3)?a.extra[t.key]=t.value.replace(/%5B/g,"").replace(/%5D/g,"").replace(/%22/g,"").replace(/%27/g,"").split("%2C"):a.extra[t.key]=eucex(t.value):a.extra[t.key]=t.value)}return a}function trackWithImage(e){var n;configTracking.unitTest||((n=new Image).onload=function(){onHitSentOk$2(),n.onload=null},n.onerror=function(){trackError("HIT_FAIL","Hydra","trackWithImage","")},n.src=e)}function onHitSentOk$2(){isLinkEvent$2&&(collectCalls(),isLinkEvent$2=!1)}function convertString$1(e){return"string"==typeof e?e.toLowerCase().replace(/[^a-z0-9\/_]/g,"-").replace(/\s{2}/g," ").replace(/\s/g,"-").replace(/---/g,"-").replace(/---/g,"-").replace(/--/g,"-"):e}function trackPage$3(e){var n;0===(n=getUrl(hydraConfig$1.path,e)).length?onHitSentOk$2():trackWithImage(n)}function trackEvent$3(e){trackPage$3(e)}function trackLinkEvent$2(e){isLinkEvent$2=!0,trackEvent$3(e)}function getHost(){return"tracking.olx-st.com/h/v2/"}function getIdentifier$1(){return currentSessionLong}var hydra=Object.freeze({__proto__:null,get currentPlatform(){return currentPlatform},applyPlatform:applyPlatform,convertString:convertString$1,trackPage:trackPage$3,trackEvent:trackEvent$3,trackLinkEvent:trackLinkEvent$2,getHost:getHost,getIdentifier:getIdentifier$1}),currentLqPush;function jsonDecode(str_json){var json=window.JSON,cx,jj,text;if("object"==typeof json&&"function"==typeof json.parse)try{return json.parse(str_json)}catch(e){if(!(e instanceof SyntaxError))throw new Error("Unexpected error type in json_decode()");return null}return cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,text=str_json,cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?(jj=eval("("+text+")"),jj):null}var retries=0,trackPageRetries=0,initPushed$1=!1,listOfActiveTests=[],listOfActiveFlags=[],lqDefinition=[],userId=null,localTestsCookieValue=null,localFlagsCookieValue=null,localSurveysCookieValue=null,counter=0,activeSurvey=!1,isLaquesisQa=!1,cookieName=getCookieName("laquesis"),cookieNameFf=getCookieName("laquesisff"),cookieNameSu=getCookieName("laquesissu"),cookieNameLq=getCookieName("lqstatus"),listOfActiveSurveys={},isLinkEvent$1=!1,qa={enable:!1,icon:!0,style:!0,expires:120};function init$1(){var e,n,t,a,i,o=!1,r=null,s=!1,l=null,c=null,u=null,g={},f=0;if(navigator.cookieEnabled)if(null!==currentSessionLong){qa={enable:!1,icon:!0,style:!0,expires:120},ninjaConfig&&ninjaConfig.laquesisQa&&(ninjaConfig.laquesisQa.enable&&(qa.enable=Boolean(ninjaConfig.laquesisQa.enable)),ninjaConfig.laquesisQa.icon&&(qa.icon=Boolean(ninjaConfig.laquesisQa.icon)),ninjaConfig.laquesisQa.style&&(qa.style=Boolean(ninjaConfig.laquesisQa.style)),ninjaConfig.laquesisQa.expires&&(qa.expires=parseInt(ninjaConfig.laquesisQa.expires.toString(),10)),ninjaConfig.laquesisQa.experiments&&(qa.experiments=ninjaConfig.laquesisQa.experiments),ninjaConfig.laquesisQa.flags&&(qa.flags=ninjaConfig.laquesisQa.flags)),ninjaConfig&&ninjaConfig.userId&&(userId=ninjaConfig.userId);try{for(c=window.location.search.replace(/^\?/,"").split("&"),f=0;f<c.length;f+=1)g[(u=c[f].split("="))[0]]=u[1];void 0!==g.laquesisqahash&&(u=atob(deucex(g.laquesisqahash)).split("!")).length<=4&&(n=u[0],t=u[1],a=u[2],i=u[3],("production"!==ninjaConfig.environment||"production"===ninjaConfig.environment&&"production"===t)&&(n&&(localTestsCookieValue=n.toLowerCase(),setCookie(cookieName,localTestsCookieValue,qa.expires,"/",ninjaConfig.cookieDomain)),a&&(localFlagsCookieValue=a.toLowerCase(),setCookie(cookieNameFf,localFlagsCookieValue,qa.expires,"/",ninjaConfig.cookieDomain)),i&&(isLaquesisQa=!0,getSurveyData(i,readEventsForHash)),(n||a||i)&&(o=!0,qa.enable=!1,setCookie("laquesisqa",1,qa.expires,"/",ninjaConfig.cookieDomain))))}catch(e){return!1}if("production"!==ninjaConfig.environment&&!0===qa.enable&&(void 0!==qa.experiments&&(localTestsCookieValue=qa.experiments.toLowerCase(),setCookie(cookieName,localTestsCookieValue,qa.expires,"/",ninjaConfig.cookieDomain),o=!0,qa.enable=!1),void 0!==qa.flags&&(localFlagsCookieValue=qa.flags.toLowerCase(),setCookie(cookieNameFf,localFlagsCookieValue,qa.expires,"/",ninjaConfig.cookieDomain),o=!0,qa.enable=!1)),null!==getCookie("laquesisqa")&&(isLaquesisQa=!0,o=!0,qa.enable=!1),null===localTestsCookieValue&&(localTestsCookieValue=getCookie(cookieName)),null===localFlagsCookieValue&&null===(localFlagsCookieValue=getCookie(cookieNameFf))&&(localFlagsCookieValue=getCookie("laquesis_ff")),null===localSurveysCookieValue&&(localSurveysCookieValue=getCookie(cookieNameSu)),null===(e=getCookie(cookieNameLq))?s=!0:(lqDefinition=validateLqDefinition(e),r=getNow(),lqDefinition[0]-r<0&&(s=!0),4===lqDefinition.length&&-1!==indexOf(lqDefinition[3],"*")&&(lqDefinition=lqDefinition.slice(0,3))),s&&!1===o?(l=SPLITTER_CDN+"/assign?",l+="sl="+currentSessionLong,null!==userId&&("string"==typeof userId&&(userId=userId.toLowerCase()),l+="&ui="+userId),l+="&cc="+hydraConfig$1.params.cC+"&ch=","m"===ninjaConfig.platform?l+="m":"d"===ninjaConfig.platform?l+="d":l+="w",void 0!==hydraConfig$1.params.bR?l+="&br="+hydraConfig$1.params.bR:l+="&br=olx",ajaxCall("get",l,processDefinition)):(null!==localTestsCookieValue&&(parseLaquesisCookie(localTestsCookieValue),cookieFromLq&&(localTestsCookieValue&&(localTestsCookieValue=localTestsCookieValue.replace(/^"(.+)"$/,"$1"),setCookie(cookieName,localTestsCookieValue,518400,"/",ninjaConfig.cookieDomain)),trackTestsAssignment())),null!==localFlagsCookieValue&&parseLaquesisFfCookie(localFlagsCookieValue),null!==localSurveysCookieValue&&parseLaquesisSuCookie(localSurveysCookieValue)),!1===initPushed$1){for(initPushed$1=!0,setupWindow(),void 0===window.laquesisFunctionsCallback&&"function"!=typeof window.laquesisFunctionsCallback||window.laquesisFunctionsCallback.call(null),window.laquesisResults=window.laquesisResults||[],currentLqPush=window.laquesisResults.push,window.laquesisResults.push=function(e){var n=currentLqPush.apply(window.laquesisResults,[e]);return checkResults(),n},window.laquesisQueue||(window.laquesisQueue=[]),window.laquesisQueue.push=function(e){"function"==typeof e&&e()};window.laquesisQueue.length>0;)window.laquesisQueue.push(window.laquesisQueue.shift());checkResults()}setTimeout(init$1,3e5)}else retries<5&&(retries+=1,setTimeout(init$1,500));return!0}function setupWindow(){window.isVariantEnabled=function(e,n){return isVariantEnabled(e,n)},window.getLaquesisVariant=function(e){return getLaquesisVariant(e)},window.isFeatureEnabled=function(e){return isFeatureEnabled(e)},window.laquesisSetUserId=function(e){return laquesisSetUserId(e)},window.laquesisDropUserId=function(){return laquesisDropUserId()},window.laquesisShowSurvey=function(e){return isLaquesisQa=!1,showSurvey(e)},window.isSurveyAvailable=function(e){return isSurveyAvailable(e)},"production"!==ninjaConfig.environment?(!0===qa.enable&&loadScript(LAQUESIS_QA_URL,"laquesisqa",(function(){loadScript(JSQR_URL,"laquesisqr",(function(){window.laquesisqa({listOfActiveTests:listOfActiveTests,listOfActiveFlags:listOfActiveFlags,qa:qa,params:hydraConfig$1.params},ninjaConfig)}))})),window.laquesisShowSurveyByLink=function(e){return isLaquesisQa=!0,showSurvey(0,e)}):"www.console-stg.data.olx.org"!==ninjaConfig.siteUrl&&"www.console.data.olx.org"!==ninjaConfig.siteUrl||(window.laquesisShowSurveyByLink=function(e){return isLaquesisQa=!0,showSurvey(0,e)}),window.laquesisGetActive=function(){return{experiments:jsonDecode(jsonEncode(listOfActiveTests)),flags:jsonDecode(jsonEncode(listOfActiveFlags))}}}function processDefinition(e){var n,t,a,i=null,o=null;null!==e&&(""===e&&trackError("fetchDefinitionsError","Laquesis","processDefinition","Unable to connect"),i=jsonDecode(e)),null!==i&&(n=parseTestsJson(i.tests),t=parseFlagsJson(i.flags),a=parseSurveysJson(i.surveys),o=getNow(),lqDefinition[0]=o+60*parseInt(i.config.next_update_foreground_in_minutes,10),setCookie(cookieNameLq,lqDefinition.join("|"),518400,"/",ninjaConfig.cookieDomain),localTestsCookieValue!==n&&(localTestsCookieValue=n,setCookie(cookieName,n,518400,"/",ninjaConfig.cookieDomain),trackTestsAssignment()),localFlagsCookieValue!==t&&(localFlagsCookieValue=t,null!==getCookie("laquesis_ff")&&setCookie("laquesis_ff","",-1,"/",ninjaConfig.cookieDomain),setCookie(cookieNameFf,t,518400,"/",ninjaConfig.cookieDomain),trackFlagsAssignment()),localSurveysCookieValue!==a&&(localSurveysCookieValue=a,setCookie(cookieNameSu,a,518400,"/",ninjaConfig.cookieDomain)),void 0===window.laquesisAssignCallback&&"function"!=typeof window.laquesisAssignCallback||window.laquesisAssignCallback.call(null))}function parseTestsJson(e){var n,t="";for(e.sort((function(e,n){return e.tN.localeCompare(n.tN)})),listOfActiveTests=[],n=0;n<e.length;n+=1)e[n].tN=e[n].tN.toLowerCase(),e[n].vN=e[n].vN.toLowerCase(),t+="#"+e[n].tN+"@"+e[n].vN,listOfActiveTests[e[n].tN]=e[n].vN;return t.substr(1)}function parseFlagsJson(e){var n,t="";for(e.sort((function(e,n){return e.tN.localeCompare(n.tN)})),listOfActiveFlags=[],n=0;n<e.length;n+=1)e[n].tN=e[n].tN.toLowerCase(),t+="#"+e[n].tN,listOfActiveFlags[e[n].tN]=1;return t.substr(1)}function parseSurveysJson(e){var n,t,a,i="",o="",r=null,s={},l=[],c=[],u=null;for(a=storageAvailable(),e.sort((function(e,n){return e.id.toString().localeCompare(n.id.toString())})),void 0!==lqDefinition[4]&&(c=lqDefinition[4].split("#")),listOfActiveSurveys={},n=0;n<e.length;n+=1){if(e[n].triggers)for(t=0;t<e[n].triggers.length;t+=1)i+="#"+e[n].id,e[n].triggers[t].event_name&&(o=e[n].triggers[t].event_name,0===(r=e[n].triggers[t].conditions||[]).length?i+="@"+o+"|0":a&&(i+="@"+o+"|1"),void 0===listOfActiveSurveys[o]&&(listOfActiveSurveys[o]=[]),void 0===s[e[n].id]&&(s[e[n].id]={}),listOfActiveSurveys[o].push({cond:r,id:e[n].id}),s[e[n].id][o]=r);inArray(c,e[n].id.toString())&&l.push(e[n].id)}return a&&(u=jsonEncode(s),window.localStorage.setItem("_lq_surveys_",u)),lqDefinition[4]=l.join("#"),i.substr(1)}function isVariantEnabled(e,n){var t=!1,a=e.toLowerCase(),i=n.toLowerCase();return!!navigator.cookieEnabled&&(void 0!==listOfActiveTests[a]&&listOfActiveTests[a]===i&&(t=!0,trackImpression(a,i)),t)}function getLaquesisVariant(e){var n=null,t=e.toLowerCase();return navigator.cookieEnabled&&void 0!==listOfActiveTests[t]?(trackImpression(t,n=listOfActiveTests[t]),n):null}function isFeatureEnabled(e){return!!navigator.cookieEnabled&&void 0!==listOfActiveFlags[e.toLowerCase()]}function laquesisSetUserId(e){userId=e}function laquesisDropUserId(){userId=null}function checkResults(){var e,n;for(e in window.laquesisResults)Object.prototype.hasOwnProperty.call(window.laquesisResults,e)&&"object"==typeof(n=window.laquesisResults[e])&&void 0===n.processed&&void 0!==n.newResult&&(window.laquesisResults[e].processed=!0,window.laquesisQueue.push(void parseLaquesisCookie(n.newResult)))}function trackTestsAssignment(){var e,n="";for(e in listOfActiveTests)Object.prototype.hasOwnProperty.call(listOfActiveTests,e)&&(n+=',"'+e+","+listOfActiveTests[e]+'"');n="["+n.substr(1)+"]",cleanupTracking(),ninjaConfig.dataLayer.push({trackEvent:["test_assignment"],test_definition:n})}function trackFlagsAssignment(){var e,n="";for(e in listOfActiveFlags)Object.prototype.hasOwnProperty.call(listOfActiveFlags,e)&&(n+=',"'+e+'"');n="["+n.substr(1)+"]",cleanupTracking(),ninjaConfig.dataLayer.push({trackEvent:["flag_assignment"],flag_definition:n})}function trackImpression(e,n){var t,a,i=!1;if(void 0===lqDefinition[1]||lqDefinition[1]!==currentSession)lqDefinition[1]=currentSession,lqDefinition[2]="";else if(void 0!==lqDefinition[2])for(a=lqDefinition[2].split("#"),t=0;t<a.length;t+=1)if(a[t]===e){i=!0;break}i||(void 0===lqDefinition[2]||0===lqDefinition[2].length?lqDefinition[2]=e:lqDefinition[2]+="#"+e,setCookie(cookieNameLq,lqDefinition.join("|"),518400,"/",ninjaConfig.cookieDomain),cleanupTracking(),ninjaConfig.dataLayer.push({trackEvent:["test_impression"],test_name:e,test_variation:n}))}function cleanupTracking(){var e,n=ninjaConfig.dataLayer.length;for(e=0;e<n;e+=1)void 0===ninjaConfig.dataLayer[e].test_definition&&void 0===ninjaConfig.dataLayer[e].test_name&&void 0===ninjaConfig.dataLayer[e].test_variation&&void 0===ninjaConfig.dataLayer[e].flag_definition||(ninjaConfig.dataLayer.splice(e,1),e=n)}function trackSurvey(e,n,t,a,i){var o,r,s={};"survey_show"!==e&&"survey_push_show"!==e&&!0===activeSurvey&&(activeSurvey=!1),o=getProtocol()+getHost()+hydraConfig$1.survey_path,s.eN=e,s.sl=currentSessionLong,s.s=currentSession,s.survey_id=n,s.survey_page_id=t,void 0!==a&&(s.survey_question_id=a),void 0!==i&&(s.survey_question_value=i),s.cC=hydraConfig$1.params.cC,s.bR=hydraConfig$1.params.bR,s.cH=void 0!==currentPlatform?currentPlatform:"w",s.mv=regionConfig.version,"production"!==ninjaConfig.environment&&(s.env="dev"),s.t=(new Date).getTime(),(r=new Image).onload=function(){onHitSentOk$1(),r.onload=null},r.onerror=function(){trackError("HIT_FAIL","Hydra","trackSurvey","On "+e)},r.src=o+"?"+objectToQueryString(s)}function parseLaquesisCookie(e){var n,t,a,i,o=e;for(o&&(o=o.replace(/^"(.+)"$/,"$1")),n=o.split("#"),t=0;t<n.length;t+=1)2===(a=n[t].split("@")).length&&(2===(i=a[1].split("|")).length?"t"===i[1]&&(trackImpression(a[0],i[0]),void 0===listOfActiveTests[a[0]]&&(listOfActiveTests[a[0]]=i[0])):void 0===listOfActiveTests[a[0]]&&(listOfActiveTests[a[0]]=i[0]))}function parseLaquesisFfCookie(e){var n,t;for(n=e.split("#"),t=0;t<n.length;t+=1)void 0===listOfActiveFlags[n[t]]&&(listOfActiveFlags[n[t]]=1)}function parseLaquesisSuCookie(e){var n,t,a,i,o,r,s=[],l={},c=null,u=null;for((r=storageAvailable())&&(u=window.localStorage.getItem("_lq_surveys_"))&&(u=deucex(u))&&(l=jsonDecode(u)),n=e.split("#"),t=0;t<n.length;t+=1)2===(a=n[t].split("@")).length&&(i=a[0],(s=a[1].split("|")).length>1&&(o=s[0],r&&(void 0===listOfActiveSurveys[o]&&(listOfActiveSurveys[o]=[]),c=l&&void 0!==l[i]&&void 0!==l[i][o]?l[i][o]:[],listOfActiveSurveys[o].push({cond:c,id:i}))))}function storageAvailable(){var e;try{var n="__storage_test__";return(e=window.localStorage).setItem(n,n),e.removeItem(n),!0}catch(e){return!1}}function trackPage$2(e){var n,t,a,i=[];if(onHitSentOk$1(),!0===initPushed$1){if(e.eventData.category){if(e.eventData.category&&i.push(e.eventData.category),e.eventData.action&&i.push(e.eventData.action),e.eventData.label&&i.push(e.eventData.label),e.eventData.value&&i.push(e.eventData.value),!1===(t=makeMapping("H","trackEvent",n=eucex(convertString$1(i.join("_"))))).key||!1===t.value)return!1;n=t.value}if(e.pageName){if(!1===(t=makeMapping("H","trackPage",e.pageName)).key||!1===t.value)return!1;n=eucex(t.value)}if(void 0!==listOfActiveSurveys[n])for(a=0;a<listOfActiveSurveys[n].length;a+=1)checkParams(e,listOfActiveSurveys[n][a].cond)&&(isLaquesisQa=!1,showSurvey(listOfActiveSurveys[n][a].id))}else if(trackPageRetries<5)return trackPageRetries+=1,setTimeout((function(){trackPage$2(e)}),500),!1;return!0}function trackEvent$2(e){return trackPage$2(e)}function trackLinkEvent$1(e){isLinkEvent$1=!0,trackEvent$2(e)}function onHitSentOk$1(){isLinkEvent$1&&(collectCalls(),isLinkEvent$1=!1)}function validateLqDefinition(e){var n=e.split("|");return void 0===n?n=[]:n.length>5&&(n=n.slice(0,5)),void 0===n[0]?n[0]="":n[0].match(/\d{10}/)||(n[0]=""),void 0===n[1]&&(n[1]=""),void 0===n[2]?n[2]="":n[2].match(/^([a-z]{1}[a-z\d]{0,9}-\d+#?)+$/)||(n[2]=""),void 0===n[3]?n[3]="":n[3].match(/\d{10}/)||(n[3]=""),void 0===n[4]?n[4]="":n[4].match(/^(\d+#?)+[^#]$/)||(n[4]=""),n}function checkParams(e,n){var t,a=!0,i=e.customParams,o=getDefaultParams(e);if(i.sl=e.sessionParams.sessionLong,i.s=e.sessionParams.session,i.cl=e.sessionParams.sessionCountLong,i.c=e.sessionParams.sessionCount,i.cp=deucex(getCurrentPath()),i.cc=o.cC,i.br=o.bR,null===n)return!1;for(t=0;t<n.length;t+=1)a=!(!a||!checkOR(i,n[t]));return a}function checkOR(e,n){var t,a,i=!1;for(a=0;a<n.length;a+=1)if(t=void 0!==n[a].c&&Boolean(n[a].c)?getCookie(n[a].n):e[n[a].n],"is_null"===n[a].o)null==t&&(i=!0);else if(null!=t)switch(n[a].o){case"equals":t.toString()===n[a].v.toString()&&(i=!0);break;case"not_equals":t.toString()!==n[a].v.toString()&&(i=!0);break;case"is_not_null":null!==t&&(i=!0);break;case"greater_than":parseInt(t,10)>parseInt(n[a].v,10)&&(i=!0);break;case"less_than":parseInt(t,10)<parseInt(n[a].v,10)&&(i=!0)}return i}function isSurveyAvailable(e){var n,t,a=!1;for(t in listOfActiveSurveys)if(Object.prototype.hasOwnProperty.call(listOfActiveSurveys,t))for(n=0;n<listOfActiveSurveys[t].length;n+=1)listOfActiveSurveys[t][n].id.toString()===e.toString()&&(a=!0);return!(!a||isSurveyShown(e))}function isSurveyShown(e,n){var t,a=[],i=!1;for(void 0!==lqDefinition[4]&&""!==lqDefinition[4]&&(a=lqDefinition[4].split("#")),t=0;t<a.length;t+=1)a[t].toString()===e.toString()&&(i=!0);return"add"===n&&!1===i&&(a.push(e),lqDefinition[4]=a.join("#"),setCookie(cookieNameLq,lqDefinition.join("|"),518400,"/",ninjaConfig.cookieDomain)),i}function getSurveyData(e,n,t){loadScript(LAQUESIS_SURVEY_URL,"laquesisSurvey",(function(){var a,i={};null!=t?a=t:(a=SPLITTER_CDN+"/survey",i.id=e,i.cc=hydraConfig$1.params.cC,i.br=hydraConfig$1.params.bR,"m"===ninjaConfig.platform?i.ch="m":"d"===ninjaConfig.platform?i.ch="d":i.ch="w"),ajaxCall("get",a+"?"+objectToQueryString(i),n)}))}function showSurvey(e,n){var t,a=n;if(t=getNow(),!isLaquesisQa){if(!isSurveyAvailable(e))return;a=null}!1===activeSurvey&&(activeSurvey=!0,counter=t,getSurveyData(e,renderSurvey,a))}function readEventsForHash(e){var n;null!==e&&""!==e?(n=parseSurveysJson([jsonDecode(e)]),localSurveysCookieValue!==n&&(localSurveysCookieValue=n,setCookie(cookieNameSu,n,518400,"/",ninjaConfig.cookieDomain))):trackError("fetchSurveyError","Survey","renderSurvey","Unable to connect")}function renderSurvey(e){var n,t,a=counter,i=3;if(null!==e&&""!==e){if((n=jsonDecode(e)).config){if(void 0!==n.config.next_survey_allowed_in_sec&&(a=n.config.next_survey_allowed_in_sec),void 0!==n.config.delay_render_in_sec&&(i=n.config.delay_render_in_sec),(t=getNow())-counter<i)return void setTimeout((function(){renderSurvey(e)}),500);isLaquesisQa?window.laquesisSurvey(n,(function(e){"survey_show"!==e&&"survey_push_show"!==e&&!0===activeSurvey&&(activeSurvey=!1)})):window.laquesisSurvey(n,trackSurvey),isLaquesisQa?isLaquesisQa=!1:(lqDefinition[3]=t+a,isSurveyShown(n.id,"add"))}}else trackError("fetchSurveyError","Survey","renderSurvey","Unable to connect")}function getIdentifier(){return userId||currentSessionLong}var laquesis=Object.freeze({__proto__:null,get listOfActiveSurveys(){return listOfActiveSurveys},init:init$1,setupWindow:setupWindow,processDefinition:processDefinition,parseTestsJson:parseTestsJson,parseFlagsJson:parseFlagsJson,parseSurveysJson:parseSurveysJson,isVariantEnabled:isVariantEnabled,getLaquesisVariant:getLaquesisVariant,isFeatureEnabled:isFeatureEnabled,laquesisSetUserId:laquesisSetUserId,laquesisDropUserId:laquesisDropUserId,checkResults:checkResults,trackTestsAssignment:trackTestsAssignment,trackFlagsAssignment:trackFlagsAssignment,trackImpression:trackImpression,cleanupTracking:cleanupTracking,trackSurvey:trackSurvey,parseLaquesisCookie:parseLaquesisCookie,parseLaquesisFfCookie:parseLaquesisFfCookie,parseLaquesisSuCookie:parseLaquesisSuCookie,storageAvailable:storageAvailable,trackPage:trackPage$2,trackEvent:trackEvent$2,trackLinkEvent:trackLinkEvent$1,onHitSentOk:onHitSentOk$1,validateLqDefinition:validateLqDefinition,checkParams:checkParams,checkOR:checkOR,isSurveyAvailable:isSurveyAvailable,isSurveyShown:isSurveyShown,getSurveyData:getSurveyData,showSurvey:showSurvey,readEventsForHash:readEventsForHash,renderSurvey:renderSurvey,getIdentifier:getIdentifier}),SCRIPT_TAG_ID="ga-script-tag",SCRIPT_URL="www.google-analytics.com/analytics.js",isLinkEvent=!1,initPushed=!1;function trackPage$1(e){var n=document.getElementById(SCRIPT_TAG_ID);initPushed=!1,n&&(initPushed=!0),init(e,(function(){var n,t,a,i=getTrackParams(e),o={};if(!1!==(n=makeMapping(Trackers.GA,"trackPage",e.pageName)).key&&!1!==n.value){for(a in t=convertPageNameString(deucex(n.value)),o.hitType="pageview",window.ga("clientNinja.set","contentGroup1",t),o.page=window.location.pathname,i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a]);window.ga("clientNinja.send",o)}}))}function trackEvent$1(e){var n=document.getElementById(SCRIPT_TAG_ID);initPushed=!1,n&&(initPushed=!0),init(e,(function(){if(e.eventData.category){var n,t,a,i=getTrackParams(e),o=[],r={};if(e.eventData.category&&o.push(e.eventData.category),e.eventData.action&&o.push(e.eventData.action),e.eventData.label&&o.push(e.eventData.label),e.eventData.value&&o.push(e.eventData.value),n=convertString(o.join("_")),!1===(t=makeMapping(Trackers.GA,"trackEvent",n)).key||!1===t.value)return void onHitSentOk();for(a in n=t.value,r.hitType="event",r.eventCategory=n.substr(0,indexOf(n,"_")),""===r.eventCategory&&(r.eventCategory="default"),r.eventLabel=n,r.eventAction="click",i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a]);r.hitCallback=onHitSentOk,window.ga("clientNinja.send",r)}}))}function trackLinkEvent(e){isLinkEvent=!0,trackEvent$1(e)}function getToken(){var e=regionConfig.custom[ninjaConfig.siteUrl].config[Trackers.GA].code;return"production"!==ninjaConfig.environment&&!1!==ninjaConfig.custom&&void 0!==ninjaConfig.custom.ga&&void 0!==ninjaConfig.custom.ga.siteCode&&"production"!==ninjaConfig.environment&&(e=ninjaConfig.custom.ga.siteCode),e}function init(e,n){if(!1===initPushed){var t=getToken();window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){window.ga.q=window.ga.q||[],window.ga.q.push(arguments)},window.ga.l=+new Date,initPushed=!0,window.ga("create",t,"auto","clientNinja"),window.ga("clientNinja.set","anonymizeIp",!0),loadScript(getProtocol()+SCRIPT_URL,SCRIPT_TAG_ID,n)}else n&&n()}function getCustomParams$1(e){return makeObjectMapping(Trackers.GA,e.customParams)}function getDefaultParams$1(){return{}}function getTrackParams(e){var n,t=getCustomParams$1(e),a=makeObjectMapping(Trackers.GA,getDefaultParams(e)),i=makeObjectMapping(Trackers.GA,getDefaultParams$1());return n=extend(t,a),n=extend(n,i)}function convertString(e){return"string"==typeof e?e.toLowerCase().replace(/\s{2}/g," ").replace(/\s/g,"_").replace(/\//g,"_").replace(/-/g,"_"):e}function convertPageNameString(e){return"string"==typeof e?e.replace(/[^a-zA-Z0-9\/]/g,"_"):e}function onHitSentOk(){isLinkEvent&&(collectCalls(),isLinkEvent=!1)}var ga=Object.freeze({__proto__:null,trackPage:trackPage$1,trackEvent:trackEvent$1,trackLinkEvent:trackLinkEvent}),trackers={hydra:hydra};trackers.laquesis=laquesis,trackers.ga=ga;var ninja={};ninja.trackers=trackers,ninja.linkCallBack=null,ninja.linkCount=0,ninja.linkTotalCount=0,ninja.linkSetTimeout=null,ninja.linkEventName=null,ninja.trackerList=null,ninja.pluginList=null;var currentSessionLong=null,currentSession=null,cookieFromLq=!1,currentTracker="start";function getTrackerList(){var e;if(null===ninja.trackerList){if(!1!==ninjaConfig.custom&&"production"!==ninjaConfig.environment)for(e in ninja.trackerList=["hydra"],ninjaConfig.custom)Object.prototype.hasOwnProperty.call(ninjaConfig.custom,e)&&trackers[e]&&trackers[e].trackPage&&ninja.trackerList.push(e);else void 0!==regionConfig.custom[ninjaConfig.siteUrl].trackers?ninja.trackerList=[Trackers.H].concat(regionConfig.custom[ninjaConfig.siteUrl].trackers):ninja.trackerList=[Trackers.H].concat(regionConfig.trackers);inArray(getPluginList(),Trackers.LQ)&&ninja.trackerList.push(Trackers.LQ)}return ninja.trackerList}function getPluginList(){var e;if(null===ninja.pluginList)if(!1!==ninjaConfig.plugins&&"production"!==ninjaConfig.environment)for(e in ninja.pluginList=[],ninjaConfig.plugins)Object.prototype.hasOwnProperty.call(ninjaConfig.plugins,e)&&ninja.pluginList.push(ninjaConfig.plugins[e]);else void 0!==regionConfig.custom[ninjaConfig.siteUrl].plugins?ninja.pluginList=[].concat(regionConfig.custom[ninjaConfig.siteUrl].plugins):ninja.pluginList=[].concat(regionConfig.plugins);return ninja.pluginList}function collectCalls(){ninja.linkCount=ninja.linkCount+1,ninja.linkCount===ninja.linkTotalCount&&(ninja.linkCallBack.call(null,ninja.linkEventName),ninja.linkCallBack=null,ninja.linkTotalCount=0,clearTimeout(ninja.linkSetTimeout))}function getCustomParams(e){var n,t,a=ninjaConfig.disablePropertyPropagation?[e]:ninjaConfig.dataLayer,i={};for(n in a)if(Object.prototype.hasOwnProperty.call(a,n))for(t in a[n])Object.prototype.hasOwnProperty.call(a[n],t)&&(inArray(ninjaConfig.specialNames,t)||"gtm."===t.slice(0,4)||inArray(["bind","push","prototype","eventTimeout"],t)||(i[t]=a[n][t]));return i}function getDefaultParams(e){var n={};return n.cC=hydraConfig$1.params.cC,n.bR=hydraConfig$1.params.bR,n.mv=regionConfig.version,"production"!==ninjaConfig.environment&&(n.env="dev"),e.eventData&&e.eventData.category?n.tN="e":e.pageName&&(n.tN="p"),n}function getSessionParams(){var e,n,t,a,i,o,r,s,l,c,u,g,f=!1;try{navigator.cookieEnabled?(e=new Date,n=Math.round(e.getTime()/1e3),null!==(l=getCookie(c=getCookieName("onap"),/([a-z0-9]+)-([0-9]+)-([a-z0-9]+)-([0-9]+)-([0-9]+)-?(.*)?/))&&l.length>0?(a=l[1],o=parseInt(l[2],10),t=l[3],i=parseInt(l[4],10),r=l[5],s=l[6]||null,r-n>0?i+=1:(o+=1,t=generateSession(),i=1)):null!==(l=getCookie(getCookieName("lqonap")))&&l.length>0?(o=1,t=a=l,i=1,s=null,cookieFromLq=!0):(a=generateSession(),o=1,t=a,i=1,s=null),u=a+"-"+o+"-"+t+"-"+i+"-"+(r=n+1800),null!==s&&(u=u+"-"+s),setCookie(c,u=u.replace(/[^\w\-\=]/g,""),518400,"/",ninjaConfig.cookieDomain)):(a=generateSession(),o=1,t=a,i=1,f=!0),null!==currentSession&&currentSession!==t&&"function"==typeof window.ninjaSessionChangedCallback&&window.ninjaSessionChangedCallback.apply(null,[t,currentSession])}catch(e){o=1,t=a=generateSession(),i=1,f=!0}return g={sessionLong:a,session:t,sessionCountLong:o,sessionCount:i},f&&(g.noCookie=f),currentSessionLong=a,currentSession=t,g}function getParams(e,n,t){return{invite:getInvite(),host:getHost$1(),hash:getHash(),referrer:getReferrer(),pageName:getPageName$1(e),eventData:getEventData(n),customParams:getCustomParams(t),sessionParams:getSessionParams()}}function trackError(e,n,t,a){var i,o,r;i=a?a.description?a.description:a.message?a.message:a:a,o=getProtocol()+trackers.hydra.getHost()+hydraConfig$1.error_path,o+="?eN="+eucex(e),o+="&sl="+currentSessionLong,o+="&s="+currentSession,o+="&tracker="+eucex(n),o+="&method="+eucex(t),o+="&info="+eucex(i),o+="&cC="+hydraConfig$1.params.cC,o+="&bR="+hydraConfig$1.params.bR,o+="&cH=w",o+="&mv="+regionConfig.version,o+="&cP="+eucex(window.location.href),"production"!==ninjaConfig.environment&&(o+="&env=dev"),o+="&t="+(new Date).getTime(),(r=new Image).onload=function(){r.onload=null},r.onerror=function(){var n;"HIT_FAIL"===e&&((n=new Image).onload=function(){n.onload=null},n.src=o.replace("HIT_FAIL","HIT_ERROR_FAIL"))},r.src=o}ninja.checkParam=function(){var e,n,t,a;function i(e,n,t){ninja[e](n,t)}for(e in ninjaConfig.dataLayer)if(Object.prototype.hasOwnProperty.call(ninjaConfig.dataLayer,e)&&"object"==typeof(n=ninjaConfig.dataLayer[e])&&void 0===n.processed)for(t in ninjaConfig.specialNames)Object.prototype.hasOwnProperty.call(ninjaConfig.specialNames,t)&&"processed"!==(a=ninjaConfig.specialNames[t])&&n[a]&&(ninjaConfig.dataLayer[e].processed=!0,window.trackingQueue.push(i(a,n[a],n)))},ninja.trackPage=function(e,n){var t,a,i,o,r;try{for(r=getParams(e,null,n),a=(i=getTrackerList()).length,t=0;t<a;t++)o=trackingMap[i[t]],currentTracker=o,ninja.trackers[o].trackPage(r)}catch(e){trackError("JAVASCRIPT_ERROR",currentTracker,"trackPage",e)}},ninja.trackEvent=function(e,n){var t,a,i,o,r,s=e;try{for("string"==typeof s&&(s=[s]),r=getParams(null,s,n),a=(i=getTrackerList()).length,t=0;t<a;t++)o=trackingMap[i[t]],currentTracker=o,ninja.trackers[o].trackEvent(r)}catch(e){trackError("JAVASCRIPT_ERROR",currentTracker,"trackEvent",e)}},ninja.trackLinkEvent=function(e,n){var t,a,i,o,r;try{if(r=getParams(null,e,n),null!==ninja.linkCallBack)return;if(void 0===r.customParams.linkCallBack||"function"!=typeof r.customParams.linkCallBack)return;for(ninja.linkCallBack=r.customParams.linkCallBack,ninja.linkEventName=e,ninja.linkCount=0,ninja.linkTotalCount=0,delete r.customParams.linkCallBack,a=(i=getTrackerList()).length,ninja.linkTotalCount=a,t=0;t<a;t++)o=trackingMap[i[t]],currentTracker=o,ninja.trackers[o].trackLinkEvent(r);ninja.linkSetTimeout=setTimeout((function(){ninja.linkCount=ninja.linkTotalCount,ninja.linkCallBack.call(null,ninja.linkEventName),ninja.linkTotalCount=0,ninja.linkCallBack=null}),1e3)}catch(e){trackError("JAVASCRIPT_ERROR",currentTracker,"trackLinkEvent",e)}},ninja.cleanup=function(e){var n,t,a=!0;try{for(;a;)for(a=!1,t=ninjaConfig.dataLayer.length,n=0;n<t;n+=1)(void 0===ninjaConfig.dataLayer[n].event||"gtm."!==ninjaConfig.dataLayer[n].event.slice(0,4)&&void 0!==ninjaConfig.dataLayer[n]["gtm.uniqueEventId"])&&"object"==typeof ninjaConfig.dataLayer[n]&&void 0===ninjaConfig.dataLayer[n].call&&void 0===ninjaConfig.dataLayer[n].dynx_itemid&&void 0===ninjaConfig.dataLayer[n].dynx_totalvalue&&void 0===ninjaConfig.dataLayer[n].dynx_pagetype&&(ninjaConfig.dataLayer.splice(n,1),n=t,a=!0);"function"==typeof e&&e.call()}catch(e){trackError("JAVASCRIPT_ERROR",currentTracker,"cleanup",e)}},ninja.event=function(e){try{ninjaConfig.callBack&&ninjaConfig.callBack.call(ninja,e)}catch(e){trackError("JAVASCRIPT_ERROR",currentTracker,"event",e)}},ninja.trackEvent,ninja.trackPage;var checkParam=ninja.checkParam;try{var currentPush,foundTrackPage,tmp;if(regionConfig.custom[ninjaConfig.siteUrl]){for(ninjaConfig.dataLayer=ninjaConfig.dataLayer||[],currentPush=ninjaConfig.dataLayer.push,ninjaConfig.dataLayer.push=function(e){var n=currentPush.apply(ninjaConfig.dataLayer,[e]);return checkParam(),n},window.trackingQueue||(window.trackingQueue=[]),window.trackingQueue.push=function(e){return"function"==typeof e?(e(),0):-1};window.trackingQueue.length>0;)window.trackingQueue.push(window.trackingQueue.shift());for(var j in ninjaConfig.dataLayer)Object.prototype.hasOwnProperty.call(ninjaConfig.dataLayer,j)&&(tmp=ninjaConfig.dataLayer[j],tmp.trackPage&&(foundTrackPage=!0));foundTrackPage||ninjaConfig.disableDefaultTrackPage?checkParam():configTracking.unitTest||(window.location.pathname?ninjaConfig.dataLayer.push({trackPage:eucex(getCurrentPath())}):ninjaConfig.dataLayer.push({trackPage:"home"})),inArray(getPluginList(),"LQ")&&setTimeout(init$1,0)}}catch(e){"function"==typeof trackError&&trackError("JAVASCRIPT_ERROR",currentTracker,"",e)}function trackEvent(e,n){var t;e&&ninjaConfig.dataLayer&&(t=extend(n||{},{trackEvent:isArray(e)?e:[e]}),ninjaConfig.dataLayer.push(t))}function trackPage(e,n){var t=extend(n||{},{trackPage:e});ninjaConfig.dataLayer.push(t)}var index={currentSession:currentSession,trackEvent:trackEvent,trackPage:trackPage};return index}));
//# sourceMappingURL=ninja-olxba.js.map
